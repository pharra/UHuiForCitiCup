<!DOCTYPE>

<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE = edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link href="css/bootstrap.min.css" rel="stylesheet">
</head>


<style type="text/css">
    #div {
        background: red;
        width: 100%;
        height: 900px;
        position: absolute;
        transition: 0.5s;
        -webkit-transition: 0.5s;
    }
    
    .float {
        margin: 0 auto;
        padding: 600px 0 0 0;
    }
</style>

<script type="text/javascript">
    window.onload = function() {
        var oDiv = document.getElementById('div');
        oDiv.style.height = window.innerHeight + 'px';
        var distX = 0;
        var distY = 0;
        oDiv.onmousedown = function(ev) {
            var oEvent = ev || event;
            distX = oEvent.clientX - oDiv.offsetLeft; //获取边界到鼠标的距离  
            distY = oEvent.clientY - oDiv.offsetTop;
            document.onmousemove = function(ev) {
                var oEvent = ev || event;
                var x = oEvent.clientX - distX;
                var y = oEvent.clientY - distY;
                if (x != 0) {
                    x = 0;
                }
                if (y > 0) {
                    y = 0;
                }
                if (y < (-300)) {
                    oDiv.style.transition = "1s";
                    oDiv.style.height = "0px";
                }

                if (x > (document.documentElement.clientWidth - oDiv.offsetWidth)) {
                    x = document.documentElement.clientWidth - oDiv.offsetWidth;
                }
                oDiv.style.transition = "0s";
                oDiv.style.left = x + 'px'; //根据鼠标位置相对定位，得到left，top值  
                oDiv.style.top = y + 'px';

            }
            document.onmouseup = function() {
                document.onmousemove = null;
                document.onmouseup = null;
                if (oDiv.offsetTop > (-300)) {
                    oDiv.style.top = "0px";
                }
            }
        }

    }
</script>


<body>
    <div id="div" style="background-image:url(1.jpg);">
        <div class="float"><span class="glyphicon glyphicon-chevron-up"></span></div>
    </div>
</body>
<script src="js/jquery-3.2.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>

</html>